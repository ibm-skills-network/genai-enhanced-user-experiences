{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
  <h1 class="mb-4">Issue Creation/Modification Wizard</h1>
  <form id="prompt-form" method="POST" action="{{ url_for('generate_ui_component') }}">
    <div class="mb-3">
      <label for="prompt" class="form-label">Enter a prompt (e.g., 'create a new bug' or 'modify the status of story #5')</label>
      <textarea class="form-control" id="prompt" name="prompt" rows="3" required></textarea>
    </div>
    <button type="submit" class="btn btn-primary" id="submit-btn">Generate Form</button>
  </form>
  <div id="loading" class="mt-3 d-none">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <span class="ms-2">Processing your request...</span>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('prompt-form');
  const submitBtn = document.getElementById('submit-btn');
  const loading = document.getElementById('loading');

  form.addEventListener('submit', function(e) {
    submitBtn.disabled = true;
    loading.classList.remove('d-none');
  });
});
</script>
{% endblock %}
